<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>お問い合わせ</title>
</head>
<body>
    <main>
        {% if mode == 'input' %}
        <!-- 入力画面 -->
        <div style="color:red;">
            {% for msg in errmessage %}
                <p>{{ msg }}</p>
            {% endfor %}
        </div>
        <form method="post" action="/">
            <div>
                <label>名前:</label>
                <input type="text" name="fullname" value="{{ session['fullname'] }}">
            </div>
            <div>
                <label>メールアドレス:</label>
                <input type="email" name="email" value="{{ session['email'] }}">
            </div>
            <div>
                <label>お問い合わせ内容:</label>
                <textarea name="message">{{ session['message'] }}</textarea>
            </div>
            <input type="submit" name="confirm" value="確認する">
        </form>

        {% elif mode == 'confirm' %}
        <!-- 確認画面 -->
        <form method="post" action="/">
            <p>名前: {{ session['fullname'] }}</p>
            <p>メールアドレス: {{ session['email'] }}</p>
            <p>お問い合わせ内容: {{ session['message'] }}</p>
            <input type="submit" name="back" value="戻る">
            <input type="submit" name="send" value="送信">
        </form>

        {% elif mode == 'send' %}
        <!-- 送信完了 -->
        <p>お問い合わせを受け付けました。</p>
        {% endif %}
    </main>
</body>
</html>